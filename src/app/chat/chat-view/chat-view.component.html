<ion-header>
  <ion-toolbar>
    <button class="menu-icon-button" ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title># {{channel?.name}}</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <div class="message-scroller">
    <virtual-scroll
      [items]="messages"
      [childHeight]="66"
      [keepIndexOnChange]="keepIndexOnItemsChange"
      (update)="scrollItems = $event"
      (change)="scrollValueChanged($event)">

      <!--<div class="loading-spinner">-->
        <!--&lt;!&ndash;<ion-spinner name="bubbles" *ngIf="chatService.isLoadingMoreMessages()"></ion-spinner>&ndash;&gt;-->
      <!--</div>-->

      <ion-item *ngFor="let message of scrollItems" no-lines>
        <chat-message [message]="message"></chat-message>
      </ion-item>

    </virtual-scroll>
  </div>
</ion-content>
<ion-footer>
  <ion-row class="message-row">
    <ion-input #messageInput class="message-input" type="text" placeholder="Message"
               [(ngModel)]="model.message" (keyup.enter)="sendMessage()"></ion-input>
    <button item-right class="send-button" ion-item (click)="sendMessage()">
      <ion-icon name="paper-plane"></ion-icon>
    </button>
  </ion-row>
</ion-footer>
