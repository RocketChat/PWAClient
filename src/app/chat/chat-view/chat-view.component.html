<ion-header>
  <ion-toolbar>
    <button class="menu-icon-button" ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title># {{channel?.name || null}}</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <div class="loading-spinner">
    <ion-spinner name="bubbles" *ngIf="chatService.isLoadingMoreMessages()"></ion-spinner>
  </div>
  <div #chatContent class="message-scroller"
       infinite-scroll
       [infiniteScrollUpDistance]="10"
       [infiniteScrollThrottle]="0"
       [scrollWindow]="false">
    <ion-item *ngFor="let message of messages" no-lines>
      <chat-message [message]="message"></chat-message>
    </ion-item>
  </div>
</ion-content>
<ion-footer>
  <ion-row class="message-row">
    <ion-input #messageInput class="message-input" type="text" placeholder="Message"
               [(ngModel)]="model.message" (keyup.enter)="sendMessage()"></ion-input>
    <button item-right class="send-button" ion-item (click)="sendMessage()">
      <ion-icon name="paper-plane"></ion-icon>
    </button>
  </ion-row>
</ion-footer>
